{% load i18n %}

<ul>
  {% for task in project.task_set.all %}
    <li>
        <form method="POST" action="{% url 'task_update' pk=task.id %}">
            {% csrf_token %}
            <input type="checkbox" name="is_completed"
                   {% if task.is_completed  %} checked {% endif %}
                   onchange="this.form.submit()" />
            {{ task.description }}
        </form>
        <form method="POST" action="{% url 'task_delete' pk=task.id %}">
            {% csrf_token %}
            <button type="submit">Delete</button>
        </form>
    </li>
  {% endfor %}
</ul>

<form method="POST" action="{% url 'task_create' %}">
    {% csrf_token %}
    <input type="hidden" value="{{ project.id }}" name="project">
    <input type="text" name="description" placeholder="{% trans 'new task' %}" required/>
    <input type="submit" value="{% trans 'Add' %}" />
</form>
